var tableApp = angular.module('tableApp');

tableApp.controller('QuestionController', 
    function QuestionController($scope, $http){
        $http({method: 'GET', url: "https://raw.githubusercontent.com/KaminsLab/Web-Prog.Kaminsky.2020/master/Using%20JQuerry-library/students.json"}).
            then(function success(response) {
                $scope.students=response.data.students;
                fromJSONToArray(response.data.students, arrayOfStudents);
        });

        $scope.delItem = function(index){
            var rows = angular.element(document.querySelectorAll(".body_row"));
            rows.eq(index).remove();
        }
        //console.log(arrayOfStudents[1].firstName);
    }
)

function fromJSONToArray(data, students){
    for(var i = 0; i < data.length; i++){
        students[i] = new Student();
        setStudent(students[i], data[i]['firstName'], data[i]['lastName'], Number(data[i]['age']), Number(data[i]['mark']));
    }
}